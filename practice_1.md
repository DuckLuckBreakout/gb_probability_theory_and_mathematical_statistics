# Урок 1
## Случайные события. Условная вероятность. Формула Байеса. Независимые испытания

### Задача 1
#### Условие:
Имеется колода в 52 карты. Найти число возможностей вытянуть из неё 4 карты так, чтобы среди них был хотя бы один туз.

#### Решение:
В колоде из 52 карт находится 4 туза и 48 других карт.

Т.к. вытягивается 4 карты, то необходимо найти число комбинации, при которых из колоды вытягивается:
- 1 туз и 3 карты, не являющиеся тузами
- 2 туза и 2 карты, не являющиеся тузами
- 3 туза и 1 карта, не являющаяся тузом
- 4 туза
           
А после все эти комбинации сложить.

То, в каком порядке вытягивались карты, неважно, т.е. будет использоваться формула для сочетаний: 
$$C_n^k = \dfrac{n!}{k! (n - k)!}$$

Пусть ${N_i}$ - число комбинаций при ${i}$ вытянутых тузах, тогда:
$$N_1 = C_4^1 * C_{48}^3 $$
$$N_2 = C_4^2 * C_{48}^2 $$
$$N_3 = C_4^3 * C_{48}^1 $$
$$N_4 = C_4^4 * C_{48}^0 $$

$$N_i = C_4^i * C_{48}^{4-i} $$


```python
import numpy as np
```


```python
def combinations(n: int, k: int) -> int:
    """Число сочетаний.
    """
    
    return np.math.factorial(n) // (np.math.factorial(k) * np.math.factorial(n - k))
```


```python
sum(combinations(4, i)*combinations(48, 4-i) for i in range(1, 5))
```




    76145



### Задача 2
#### Условие:
Семь человек рассаживаются наудачу на скамейке. 

Какова вероятность того, что рядом будут сидеть: 
   
    а) два определённых человека? 
    б) три определённых человека?

#### Решение:
В данной задаче используется статическая вероятность:
$$P(A) = \frac{m}{n}$$

Т.к. 7 человек могут сесть на скамейку 7! различными способами, то $n = 7!$
Пусть первым садится крайний из искомых людей, тогда:

а) у первого есть 6 вариантов рассадок, но при этом люди уникальные, т.е. первым может быть любой из двух, сл-но способов их рассадить - 6*2. Оставшиеся 5 человек могут сесть 5! способами. В конечном итоге $m = 6*2*5!$
$$P(A) = \frac{m}{n} = \frac{6*2*5!}{7!}$$



```python
from math import factorial
```


```python
(6*2*factorial(5))/factorial(7)
```




    0.2857142857142857



б) у первого есть 5 вариантов рассадок, но при этом люди уникальные, т.е. первым и вторым может быть любой из трех, сл-но способов их рассадить - 5*3!. Оставшиеся 4 человека могут сесть 4! способами. В конечном итоге $m = 5*3!*4!$
$$P(A) = \frac{m}{n} = \frac{5*3!*4!}{7!}$$


```python
(5*factorial(3)*factorial(4))/factorial(7)
```




    0.14285714285714285



### Задача 3

#### Условие:
Из 60 вопросов, входящих в экзаменационные билеты, студент знает 50. Какова вероятность того, что среди трёх наугад выбранных вопросов студент знает: 
     
     а) все? 
     б) два?

#### Решение:
Т.к. неважно, в каком порядке вытягиваются билеты, то будет использоваться формула для сочетаний:
$$C_n^k = \dfrac{n!}{k! (n - k)!}$$

Всего исходов вытянуть 3 билета из 60 равно:
$$C_{60}^3 = \dfrac{60!}{3! (60 - 3)!}$$

a) Число исходов, когда студент знает все 3 билета:
$$C_{50}^3 = \dfrac{50!}{3! (50 - 3)!} $$

В таком случае вероятность равна:


```python
combinations(50, 3) / combinations(60, 3)
```




    0.5727644652250146



б) Число исходов, когда студент знает 2 билета:
$$C_{50}^2 = \dfrac{50!}{2! (50 - 2)!} $$

Число исходов, когда студент не знает 1 билет:
$$C_{10}^1 = \dfrac{10!}{1! (10 - 1)!} $$

Т.е. число исходов, когда студент знает 2 билета и не знает 1 равно:
$$C_{50}^2 * C_{10}^1$$

В таком случае вероятность равна:


```python
(combinations(50, 2) * combinations(10, 1)) / combinations(60, 3)
```




    0.35797779076563413



### Задача 4

#### Условие:
Бросается игральная кость. Пусть событие A - появление чётного числа, событие B - появление числа больше трёх. Являются ли эти события независимыми?

#### Решение:
События А и В являются независимыми, если $P(A|B)=P(A)$
$P(A|B)$ - вероятность А при условии В, т.е. что числа четное при условии, что оно больше трех. Т.е. благоприятными исходами являются результаты 4 и 6, $$P(A|B) = \dfrac{2}{3}$$

$P(A) = \dfrac{3}{6}$, т.к. всего исходов 6, а благоприятными являются 2, 4, 6.

Т.е. $P(A|B)≠P(A)$, сл-но эти события не являются независимыми.


### Задача 5

#### Условие:
Допустим, имеется некоторая очень редкая болезнь (поражает 0.1% населения). Вы приходите к врачу, вам делают тест на эту болезнь, и тест оказывается положительным. Врач говорит вам, что этот тест верно выявляет 99% больных этой болезнью и всего лишь в 1% случаев даёт ложный положительный ответ.

_Вопрос:_ какова вероятность, что вы действительно больны ей?

_Подсказка:_ вновь используйте формулу Байеса с раскрытием знаменателя с помощью формулы полной вероятности.

#### Решение:

Формула Байеса:
$$P(A|B) = \dfrac{P(B|A) \cdot P(A)}{P(B)}$$

A - пациент болен

В - тест пациента является положительным

Раскрыв знаменатель по формуле полной вероятности получим:
$$P(B) = P(B | А) \cdot P(A) + P \left( B | \overline{A} \right) \cdot P \left( \overline{A} \right)$$


```python
p_b = 0.99*0.001 + 0.01*0.999
p_b
```




    0.01098



Подстановка полученного значения $P(B)$ в формулу для $P(A|B)$:


```python
(0.99*0.001)/p_b
```




    0.09016393442622951




```python

```
